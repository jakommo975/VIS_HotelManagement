@model VIS_HotelManagement.Models.MyAccountModel 

@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

<div class="container">
    <h3 class="mb-4">Account Details</h3>
    <h4>Personal Information</h4>
    <form>
        <div class="row mb-4">
            <div class="col-4 d-flex flex-column">
                <div class="d-flex flex-column mb-1">
                    <label>Name</label>
                    <input name="Name" type="text" value="@Model.Name" />
                </div>
                <div class="d-flex flex-column mb-1">
                    <label>Phone</label>
                    <input name="Phone" type="text" value="@Model.Phone" />
                </div>
                <div class="d-flex flex-column mb-1">
                    <label>Email</label>
                    <input name="Email" type="email" value="@Model.Email" />
                </div>
                <button class="btn btn-primary mt-2">Save</button>
            </div>
            
        </div>
        
    </form>

    <h4>Your Bookings</h4>

    <script src="https://cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.15/js/dataTables.bootstrap4.min.js "></script>

        <div class="mt-3 mx-0" style="width:90%; margin:0 auto;">
            <table id="example" class="table table-striped table-bordered dt-responsive nowrap" width="100%" cellspacing="0">
                <thead>
                    <tr>
                        <th>Booking Id</th>
                        <th>Start Date</th>
                        <th>End Date</th>
                        <th>Duration</th>
                        <th>Guests</th>
                        <th>Room Type</th>
                        <th>Status</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var booking in Model.Bookings)
                    {
                    <tr>
                        <td>@booking.Id</td>
                        <td>@booking.StartDate.ToShortDateString()</td>
                        <td>@booking.EndDate.ToShortDateString()</td>
                        <td>@booking.DurationInNights</td>
                        <td>@booking.NumberOfPersons adults</td>
                        <td>@booking.RoomType</td>
                        <td>@booking.Status</td>
                        <td class="text-center">
                            <form action="/Booking/CancelBooking" method="post">
                                <input type="hidden" name="bookingId" value="@booking.Id"/>
                                <button class="btn btn-primary">Cancel</button>
                            </form>
                        </td>
                    </tr>
                    }
                </tbody>
            </table>
        </div>
</div>
